<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="memberSQL">
<insert id="insertMailAuth" >
    INSERT INTO mail_auth (mail,auth_key,is_auth)
    values (#{mail},#{authKey},0)
</insert>
<insert id="insertUser" parameterType="userDTO">
	
</insert>
<select id="getMailAuth" parameterType="String" resultType="user.bean.UserDTO">
    SELECT mail, auth_key, is_auth
    FROM mail_auth
    WHERE mail=#{mail}   
</select>
<update id="updateMailAuth" parameterType="String">
    UPDATE mail_auth 
    SET auth_key=#{authKey}
    ,is_auth=0
    WHERE mail=#{mail}
</update>
<update id="completeAuth" parameterType="String">
    UPDATE mail_auth SET is_auth=1
    WHERE mail=#{mail}
</update>


    <select id="listMembership" parameterType="MembershipDTO" resultType="user.bean.MembershipDTO">
        SELECT * FROM Membership = #{Membership}
    </select>

</mapper>