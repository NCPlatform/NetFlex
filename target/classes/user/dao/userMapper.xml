<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

	<!-- 로그인 -->
	<select id="login" parameterType="map" resultType="int">
		<!-- select * from user where email = #{email} -->
		select count(*) from user where email like #{email} and password like #{password}
	</select>
	
	<!-- 로그인 접속일자 수정 -->
	<update id="update_log" parameterType="String">
		update user set log_date = now() where email = #{email}
	</update>
	
	
	<!-- 이메일 아이디 찾기 -->
	<select id="find_email" parameterType="map" resultType="String">
		select email from user where name = #{name} and age = ${age}
	</select>
	
	<!-- 비밀번호 찾기 -->
	<select id="find_password" parameterType="map" resultType="String">
		select password from user where email = #{email} and name = #{name}
	</select>
	
	<!-- 비밀번호 변경 -->
	<update id="update_pw" parameterType="user">
		update user set password = #{password} where email = #{email}
	</update>
	
</mapper> 











